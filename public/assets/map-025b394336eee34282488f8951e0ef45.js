((function(){var a,b,c,d,e;c=null,d={},b=null,$(function(){var b,d;return $("#map_side_bar").css("max-height",$(window).height()),b=new google.maps.LatLng(32.463426,-84.979248),d={zoom:6,center:b,mapTypeId:google.maps.MapTypeId.ROADMAP},c=new google.maps.Map(document.getElementById("map_canvas"),d),google.maps.event.addListener(c,"click",function(b){return $.post("/tweets/closest_tweets.json",{latitude:b.latLng.lat(),longitude:b.latLng.lng()},function(b){return a(b)})})}),a=function(a){var f,g,h,i,j,k,l,m,n;b=null;for(g in d)i=d[g],i.setMap(null);d={},h=new google.maps.InfoWindow,$("#map_side_bar").html(""),n=[];for(l=0,m=a.length;l<m;l++)k=a[l],j=new google.maps.Marker({position:new google.maps.LatLng(k.location.lat,k.location.lng),map:c,tweet_id:k._id}),f="<div id='"+k._id+"' class='infowindow')'><img src='"+k.pic+"'/><p>"+k.text+"</p></div>",j.content_string=f,google.maps.event.addListener(j,"click",function(){return h.setContent(this.content_string),h.open(c,this),e(this.tweet_id)}),d[k._id]=j,$("#map_side_bar").append(f),n.push($("#map_side_bar div#"+k._id).click(function(){return e(this.id)}));return n},e=function(a){return b!==null&&d[b].setAnimation(0),d[a].setAnimation(google.maps.Animation.BOUNCE),$("#"+a).addClass("selected"),$("#map_side_bar div#"+b).removeClass("selected"),b=a}})).call(this);